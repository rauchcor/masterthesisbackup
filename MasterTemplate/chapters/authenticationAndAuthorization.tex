%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Authentication and Authorization}\label{chap:authenticationandauthorization}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapterstart

“Cloud-based services, the social Web, and rapidly expanding mobile platforms will depend on identity management to provide a seamless user experience.”   (\citet{Corre:2017:WHI}).

Modern Devices are changing our every day life. They change the way how we access information, interact with each other and share content. 
With this change of user behavior also the way we think of authentication and authorization methods has to adjust. Users are find themselves struggling using multiple devices, accounts and services. The users burden of this site-by-site account management is putting security at risk. The goal of new authentication and authorization solutions is to help the user managing his accounts by providing single-sign-on, based on an exchange of identity-related assertion across security domains in a scalable way (\citet{Corre:2017:WHI}).  

\section{Authentication}

“Digital identity is the unique representation of a subject engaged in an online transaction. The process used to verify a subject’s association with their real-world identity is called identity proofing” (\citet{NIST:2017:DIG})

A digital identity as explained above is the result of what we call the authentication process. It is a way of identifying the user as whom he claims to be. A very typical authentication process is performed by asking the user for its username and password. If the user provides a correct user name and password, an application assumes the user is indeed the owner of the account he wants to log on (\citet{Boyed:2012:GSOA}). 

The evidence provided by the user in the authentication process is called credentials. Most of the time as mentioned above credentials are provided in the form of username and password. However credentials also may take other forms like PIN’s, key cards, eye scanners and so on (\citet{Todorov:2007:MUI}). 

Credentials, which prove the identity of an entity and are used as authenticators in authentication systems, are called factors. \citet{NIST:2017:DIG} categorize following types of factors:

\begin{itemize}  
\item Something the user knows - Cognitive information the user has to remember. Examples include passwords, PIN, answers to secret questions.
\item What the user has - something the user owns. Examples include a security token, driving license, one-time password (OTP). 
What the user is - biometric information of the user. Examples include fingerprint, voice, and face.  
\item What the user is - biometric information of the user. Examples include fingerprint, voice, and face. 
\end{itemize}

 Other types of information which are not considere athentication factors but  can be used to enrich the authentication proceess according to \citet{Dasgupta:2017:AUA} are:
 
 \begin{itemize}
 	\item Where the user is - the location was the user can be used as a fourth factor of authentication of a user. Examples include GPS, IP addresses.
 	\item When the user logs on - Time can also be extracted as a separate factor. Verification of employee’s identification in different office hours can prevent many kinds of grave data breaches. The time factor can easily prevent online banking fraud events to a great extent. 
 \end{itemize}




To secure a solution properly it should at least use two factors of the three listed above.To make use of more then one factor of a pool of potential credentials to verify the identity of a user is referred to as Multi-factor Authentication (MFA). The goal of multi-factor authentication is it to provide a layered defense and make it harder for unauthorized individuals to gain access. If one of the factors breaks, the service can still rely on the non-compromised authentication factors (\citet{Dasgupta:2017:AUA}).

Using just one factor is called Single Factor Authentication(SFA). \cite{Dasgupta:2017:AUA} clearly describes the drawbacks SFA has compared to MFA, primarily the universal used password-based authentication.The user needs to remember different passwords for multiple accounts therefore the user often reuses one password also known as password fatigue.

In an Interview by \cite{Tomkins:2009:DPF} with Jon Brody, he explains Password Fatigue like the following. An average user has 15 accounts; some people might even have up to 30 accounts - far too much to manage appropriately. Users then tend to adopt specific password patterns like using simple passwords for nontransactional sites and complex passwords for banking sites. Since many complex passwords are hard to remember users also often reuse passwords for different services at one point - this is called password fatigue. 

Besides password fatigue \cite{Todorov:2007:MUI} draws attention to one of the significant challenges of secure user authentication represented by default passwords. Vendors often ship their devices with pre-configured standard passwords. Although vendors recommend changing default passwords, system architects and engineers often fail to do so because they are more focused on the business logic than on security causing security issues. Systems with default passwords are more straightforward to attack, for example by knowing or guessing the device the attacker has an easy time authenticating with the system accordingly. 


 Due to the problem of password fatigue and default passwords, one factor like a password might easily get compromised. Now the user can no longer use the service until the system is repaired which can lead to a delay of the user when trying to access necessary information. Also, there is a risk that the user does not notice that the single factor is compromised which can lead to devastating effects (\cite{Dasgupta:2017:AUA}). 

When designing an authentication process with using multiple factors the designers of the process should be very aware of the type of application and the information that has to be secured. For example a solution for an international bank should have different standards then an app for a making an grocery list. On the one hand, difficult and complex authentication processes for trivial applications might scare away users. On the other hand simple methods for applications protecting sensitive data might drive users away as well. Application designers should try to always find a middle way that suits both parties, the application owners and the users (\cite{NIST:2017:DIG}). 

The factors are an important part of the authentication process which result should be an authenticated user. However, to become an authenticated user the user has to go through certain steps on the way. These steps the user has to go through are enabled be typical components unique to the authentication process. \cite{Todorov:2007:MUI} identifies three typical components that are part of the authentication:

 \begin{itemize}
 \item The Supplicant, is the party that provides the evidence to prove the identity of a user or client. The result of the authentication process should be the authenticated user or client.  
 \item The Authenticator, also called server, is responsible for ascertaining the user identity. Once the identity is proved, the authenticator can authorize or audit the user access to resources. 
 \item Security Authority Database, which is storage or  a mechanism to check the user's credentials. The storage can be represented by as much as a flat file, a server on the network providing centralized user authentication or a distributed authentication server. 
\end{itemize}

//
insert picture here
//

It is vital that all the components of a user authentication system can communicate independently of each other. Whether or not all communication channels are used depends on the authentication mechanism and the model of trust that it implements. For example, the Kerberos authentication protocol does not feature direct communication between the authenticator and security server (\cite{Todorov:2007:MUI}). 

Application security is a complex task and developing a customized siloed identity solution can be expensive. A Stand-alone identity store can besides being expensive also causes information assurance and administrative problems for organizations (\cite{JerichoSystems:IS}). 

  A federate authentication or identity federation says \cite{Boyed:2012:GSOA} is a system that is maintaining its accounts, for example username and password databases, with the help of a third party service. Often big cooperate IT environments already use such solutions. Environment applications for example may trust an Active Directory server, an LDAP server or an SAML provider.    \cite{NIST:2017:DIG} also claims that identity federation is preferred over some siloed identity solution that each serve a single agency or Relying Party (RPs). Furthermore \cite{NIST:2017:DIG} lists certain benefits that come with using federated architectures, as can be examined before. 

\begin{itemize}
\item Enhanced user experience. For example, an individual can be identity proofed once and reuse the issued credential at multiple RPs. 
\item Cost reduction to both the user (reduction in authenticators) and the agency (reduction in information technology infrastructure). 
\item Data minimization as agencies do not need to pay for collection, storage, disposal, and compliance activities related to storing personal information. 
\item Pseudonymous attribute assertions as agencies can request a minimized set of attributes, to include claims, to fulfill service delivery. 
\item Mission enablement as agencies can focus on the mission, rather than the business of identity management.
\end{itemize}

To reflect on authentication it can be said that authentication is a very important part of every applications. As users are getting more concerned on security the pressure on developers grows to provide a solution that secures sensible data while keeping up usability standards, which can often be a trade off. Complex applications need complex security which can mean high costs for individual developed solutions, therefor application developers should also think about using federate authentication solutions. 


\section{Authorization}


The authentication and authorization process are very closely related to each other and for users often hard to separate. After the authentication process of a user the application has now proof that the user is who he claims to be, but not every user is the same. After  the user authenticates, the user may want to access data or services. Based on the information provided by the authentication process the application has the possibility to allow or deny the user to access information or services. In other words we have to check if the user is authorized to access data of a service. Furthermore authorization, offers granular control to distinguish between read, write or execute access to individual resources, typically access control list (ACL) are used for each operation (\cite{Todorov:2007:MUI}, \cite{Boyed:2012:GSOA}).

To receive the information necessary to make access decisions,  systems offer a user login process or sign-in process. The process initiates the authentication process between user and the system. As a result of this process, the user receives a system or application specific structure called an access token. The access token holds information about the user which will indicate what kind of resources the user can access. For every action the user then has to provide the access token and based on the information provided within the access token is then either granted or denied access \cite{Todorov:2007:MUI}. 


Access Control lists

Delegated Authorization
Delegated authorization is granting access to another person or application to act on behalf of the user.
\cite{Boyed:2012:GSOA}


\section{Single Sign-On}

The aim of Single Sign-On(SSO) is to design an authentication system that serves the interests of the user as well as the interests of the service provider. Whereas the user prefers a a simple process, the service provider requires a complicated authentication procedure. Ironically trying to make the authentication procedure more save often leads to weakening the whole system due to the user always  finding new ways to bypass it. An example mentioned before is password fatigue. Another challenge that SSO is trying to takel is that classic web authentication solutions that require the user to login with a password, only authenticate the user and are not capable of providing access control or revealing additional information about the user. Most SSO solutions try to combine the authentication process and authorization (\cite{Prochazka:2010:UCA}).

According to \cite{Lynch:2017:IIG} two SSO solutions gained broad acceptance. On the one hand, SAML-based federations using SOAP, focusing on large enterprises also including governments and educational networks. On the other hand the Web Authorization Protocol was introduced which is a combination of the Protocols OpenID and OAuth. SAML federations have been customized to address the security concerns of those institutions that typically have a large user base, significantly protected resources, complex authorization patterns and data and services spread across multiple domains. However in a Web 2.0 world, the SAML solutions where seen as too rigid and too severe to mantain; a lightweight SSO was needed. This was when the Web Authorization Protocol comes into play. The approach of this protocol is taking advantage of the lightweight RESTful APIs which are reusing the existing HTTP architecture features and the JavaScript Object Notation(JSON).

One of the very well-known solutions based on Security Assertion Markup Language version 2 (SAML2) is Shibboleth. Shibboleth is one of the leading middlewares for building identity federations in a higher education sphere. To offer authentication, authorization and attribute assertion between entities. Entities defined by Shibboleth are:

\begin{itemize}
	\item Identity Provider
	\item Service Provider
	\item Discovery Service
	\item Metadata Operator
	\item Federation Operator
\end{itemize}




\chapterend